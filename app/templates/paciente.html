{% extends "base.html" %}
{% block content %}
<h2>Cadastro de Pacientes</h2>

<form method="POST" action="/pacientes/novo">
    <label>Nome:</label><br>
    <input type="text" name="nome" required><br><br>

    <label>CPF:</label><br>
    <input type="text" name="cpf" maxlength="11" required><br><br>

    <label>Data de Nascimento:</label><br>
    <input type="date" name="data_nascimento" required><br><br>

    <label>Telefone:</label><br>
    <input type="text" name="telefone" maxlength="11" required><br><br>

    <button type="submit">Cadastrar</button>
</form>

<hr>

<h3>Pacientes Cadastrados</h3>
<table border="1" cellpadding="5">
    <tr>
        <th>Nome</th>
        <th>CPF</th>
        <th>Data Nascimento</th>
        <th>Telefone</th>
        <th>Ações</th>
    </tr>
    {% for p in pacientes %}
    <tr>
        <td>{{ p.nome }}</td>
        <td>{{ p.cpf }}</td>
        <td>{{ p.data_nascimento }}</td>
        <td>{{ p.telefone }}</td>
        <td>
            <form action="/pacientes/remover/{{ p.cpf }}" method="POST" style="display:inline;">
                <button type="submit">Remover</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
